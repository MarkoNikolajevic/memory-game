{"version":3,"sources":["main.js"],"names":["game","cards","document","querySelectorAll","deck","querySelector","moves","sec","min","openCards","matchedCards","info","ui","stars","timer","restart","Array","from","interval","shuffle","array","currentIndex","length","temporaryValue","randomIndex","random","floor","shuffCards","innerHTML","forEach","el","newDeck","showCards","_loop","card","addEventListener","classList","add","includes","push","firstElementChild","getAttribute","matched","contains","showModal","unmatched","movesCounter","setTimeout","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","value","err","return","closeCards","i","remove","gameTimer","restartGame","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","clearInterval","finalTime","finalMoves","finalStars","childElementCount","setInterval","modalBtn","modal"],"mappings":"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","file":"main.min.js","sourcesContent":["// Define variables\nconst game = {\n\tcards: document.querySelectorAll(\".card\"),\n\tdeck: document.querySelector(\".card-board\"),\n\tmoves: 0,\n\tsec: 0,\n\tmin: 0,\n\topenCards: [],\n\tmatchedCards: [],\n\tinfo: document.querySelector(\".game-info\"),\n\tui: {\n\t\tstars: document.querySelector(\".stars\"),\n\t\ttimer: document.querySelector(\".timer\"),\n\t\trestart: document.querySelector(\".restart\"),\n\t\tmodal: document.querySelector(\".modal-container\"),\n\t\tmodalBtn: document.querySelector(\".play-again-btn\"),\n\t},\n};\ngame.cards = Array.from(game.cards);\nlet interval;\n\n// Shuffle function from http://stackoverflow.com/a/2450976\nfunction shuffle(array) {\n\tlet currentIndex = array.length, temporaryValue, randomIndex;\n\n\twhile (currentIndex !== 0) {\n\t\trandomIndex = Math.floor(Math.random() * currentIndex);\n\t\tcurrentIndex -= 1;\n\t\ttemporaryValue = array[currentIndex];\n\t\tarray[currentIndex] = array[randomIndex];\n\t\tarray[randomIndex] = temporaryValue;\n\t}\n\treturn array;\n}\n\n// Create new deck\nfunction newDeck() {\n\tlet shuffCards = shuffle(game.cards);\n\tgame.deck.innerHTML = \"\";\n\tshuffCards.forEach(function(el) {\n\t\tgame.deck.append(el);\n\t});\n}\n\n// Show cards function\nfunction showCards() {\n\tfor (const card of game.cards) {\n\t\tcard.addEventListener(\"click\", function() {\n\t\t\tcard.classList.add(\"card-open\", \"card-show\", \"disabled\");\n\t\t\tif (!game.openCards.includes(card)) {\n\t\t\t\tgame.openCards.push(card);\n\t\t\t}\n\t\t\tif (game.openCards.length === 2 && game.openCards[0].firstElementChild.getAttribute(\"data-icon\") === game.openCards[1].firstElementChild.getAttribute(\"data-icon\")) {\n\t\t\t\tmatched();\n\t\t\t\tif (card.classList.contains(\"matched\")) {\n\t\t\t\t\tgame.matchedCards.push(card);\n\t\t\t\t\tif (game.matchedCards.length === 8) {\n\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\tshowModal();\n\t\t\t\t\t\t\tgame.matchedCards = [];\n\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tmovesCounter();\n\t\t\t\tgame.openCards = [];\n\t\t\t} else if (game.openCards.length === 2 && game.openCards[0].firstElementChild.getAttribute(\"data-icon\") !== game.openCards[1].firstElementChild.getAttribute(\"data-icon\")) {\n\t\t\t\tunmatched();\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tcloseCards();\n\t\t\t\t\tgame.openCards = [];\n\t\t\t\t}, 800);\n\t\t\t\tmovesCounter();\n\t\t\t}\n\t\t});\n\t}\n}\n\n// Close cards\nfunction closeCards() {\n\tfor (let i = 0; i < game.openCards.length; i++) {\n\t\tif (!game.openCards[i].classList.contains(\"matched\")) {\n\t\t\tgame.openCards[i].classList.add(\"card-close\");\n\t\t\tgame.openCards[i].classList.remove(\"card-open\", \"card-show\", \"unmatched\", \"disabled\");\n\t\t}\n\t}\n}\n\n// Matched\nfunction matched() {\n\tgame.openCards[0].classList.remove(\"card-open\");\n\tgame.openCards[0].classList.add(\"matched\", \"correct\");\n\tgame.openCards[1].classList.remove(\"card-open\");\n\tgame.openCards[1].classList.add(\"matched\", \"correct\");\n}\n\n// Unmatched\nfunction unmatched() {\n\tgame.openCards[0].classList.remove(\"card-open\");\n\tgame.openCards[0].classList.add(\"unmatched\");\n\tgame.openCards[1].classList.remove(\"card-open\");\n\tgame.openCards[1].classList.add(\"unmatched\");\n}\n\n// Moves counter\nfunction movesCounter() {\n\tgame.moves++;\n\tdocument.querySelector(\".moves\").innerHTML = game.moves;\n\tif (game.moves === 1) {\n\t\tgameTimer();\n\t}\n\t// Star rating\n\telse if (game.moves > 10 && game.moves < 12) {\n\t\tgame.ui.stars.innerHTML = \"<i class='fas fa-star'></i><i class='fas fa-star'></i>\";\n\t} else if (game.moves > 12) {\n\t\tgame.ui.stars.innerHTML = \"<i class='fas fa-star'></i>\";\n\t}\n}\n\n//  Timer\nfunction gameTimer() {\n\tinterval = setInterval(function() {\n\t\tgame.ui.timer.innerHTML = `${game.min} min ${game.sec} sec`;\n\t\tgame.sec++;\n\t\tif (game.sec === 60) {\n\t\t\tgame.min++;\n\t\t\tgame.sec = 0;\n\t\t}\n\t}, 1000);\n}\n\n// Restart the game\nfunction restartGame() {\n\tnewDeck();\n\t// Remove all classes\n\tfor (const card of game.cards) {\n\t\tcard.classList.remove(\"matched\", \"disabled\", \"correct\", \"card-show\", \"card-close\");\n\t}\n\t// Reset moves\n\tgame.moves = 0;\n\tdocument.querySelector(\".moves\").innerHTML = game.moves;\n\t// Reset timer\n\tgame.min = 0;\n\tgame.sec = 0;\n\tgame.ui.timer.innerHTML = `${game.min} min ${game.sec} sec`;\n\tclearInterval(interval);\n\t// Reset stars\n\tgame.ui.stars.innerHTML = \"<i class='fas fa-star'></i><i class='fas fa-star'></i><i class='fas fa-star'></i>\";\n}\n\ngame.ui.restart.addEventListener(\"click\", restartGame);\n\n// Congratulations modal\nfunction showModal() {\n\tgame.ui.modal.classList.add(\"show-modal\");\n\t// Get final time\n\tclearInterval(interval);\n\tconst finalTime = game.ui.timer.innerHTML;\n\t// Get final moves\n\tconst finalMoves = document.querySelector(\".moves\").innerHTML;\n\t// Get final stars\n\tconst finalStars = game.ui.stars.childElementCount;\n\n\tgame.info.innerHTML = `You finished the game in ${finalTime} with ${finalMoves} moves and got ${finalStars} stars!`;\n}\n// Close modal\ngame.ui.modalBtn.addEventListener(\"click\", function() {\n\tgame.ui.modal.classList.remove(\"show-modal\");\n\trestartGame();\n});\n\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n\tnewDeck();\n\tshowCards();\n});\n"]}